.page {
	min-height: 100vh;
}
.hero {
	background-attachment: scroll, fixed, fixed;
	background-image: url('../img/top-3200.svg'), url('../img/overlay.png'), url('../img/bg.jpg');
	background-position: bottom center, center center, center center;
	background-repeat: repeat-x, repeat, repeat-x;
	background-size: 3200px 460px, auto, cover;
	//min-height: 640px;

	color: _palette(bg);
	text-align: center;

	.wrapper {
		display: flex;
		align-items: flex-start;
		justify-content: space-between;

		margin: 0 auto;
		padding: (_size(gutter)*4) _size(gutter) (_size(gutter)*8) _size(gutter);
		max-width: _size(tablet);

		@include respond(_size(site-width)) {
			padding: (_size(fluid-gutter)*2.75) (_size(gutter)/1) (_size(fluid-gutter)*5.5) (_size(gutter)/1);
		}
		@include respond(_size(tablet)) {
			max-width: 800px;
		}
		@include respond(_size(mobile)) {
			padding: (_size(gutter)*2.5) (_size(gutter)/1) (_size(fluid-gutter)*8) (_size(gutter)/1);
		}
		@include respond(587px) {
			flex-direction: column;
		}
	}


	h1 {
		font-weight: normal;
		color: _palette(bg);
		font-size: 2.8rem;
		margin: 0;
		font-weight: 300;

		@include respond(_size(tablet)) {
			font-size: 2.4rem;
		}
		@include respond(_size(mobile)) {
			font-size: 2rem;
		}
		@include respond(587px) {
			text-align: center;
		}

		strong {
			font-size: 4rem;
			font-family: _font(heading);
			color: inherit;
			display: block;
			font-weight: 400;

			@include respond(_size(tablet)) {
				font-size: 3.2rem;
			}
			@include respond(_size(mobile)) {
				font-size: 2.8rem;
			}
		}
	}
	.intro {
		display: inline-block;
		flex-basis: 68%;
		width: 68%;
		text-align: left;
		margin-top: (_size(gutter)/2);
		padding-right: _size(gutter);

		@include respond(_size(tablet)) {
			max-width: 480px;
		}

		@include respond(587px) {
			flex-basis: 100%;
			width: 100%;
			padding-right: 0;
			margin: 0 auto;
		}

		a {
			opacity: 1;
			transition: opacity _duration(short);

			&:hover {
				opacity: 0.5;
			}
		}
	}
	.photo {
		display: inline-block;
		position: relative;
		flex-basis: 32%;
		width: 32%;
		min-width: 200px;

		border-radius: 9999px;
		border: 16px solid rgba(255,255,255,0.8);
		overflow: hidden;

		@include respond(587px) {
			flex-basis: 100%;
			max-width: 66%;
			margin: _size(gutter) auto 0 auto;
		}
		&::after {
			box-shadow: inset 0 0 24px 0 rgba(0,0,0,0.7);
			border-radius: 999999px;
			content: '';
			display: block;
			height: 100%;
			position: absolute;
			top: 0;
			width: 100%;
			pointer-events: none;
		}
	}
}

main{
	min-height: calc(100vh - 255px);
	text-align: center;

	header + & {
		padding-top: 128px;
	}
}

.row {
	display: flex;

	@include respond(_size(mobile)) {
		flex-direction: column;
	}
	.col {
		@extend %flex-equal-width-col;
	}
}
.frontpage_content {
	width: 100%;
	margin: _size(gutter) 0;

	@extend %clear;

	.wrapper {
		max-width: _size(site-width);
		margin: 0 auto;
	}
}
.projects {
	width: 100%;

	padding: _size(gutter);

	@include respond(_size(mobile)) {
		padding: (_size(gutter)/2);
	}

	.wrapper {
		max-width: _size(site-width);
		margin: 0 auto;
		align-items: center;

		& > ul {
			@extend %nota-list;
			display: flex;
    		flex-wrap: wrap;
    		align-items: center;

			& > li {
				position: relative;

				flex-basis: 33.33%;
				// margin: calc(33.33%-(_size(gutter)/2));
				margin-bottom: 5%;

				span.overlay {
					//position: absolute;
					box-shadow: 0 0 60px -10px #333 inset;

					transition: box-shadow _duration(moderate);

					&:hover {
						box-shadow: 0 0 120px 60px #1e2e3b inset;
					}
				}
				@include respond(_size(tablet)) {
					flex-basis: 50%;
				}
				@include respond(680px) {
					flex-basis: 100%;
					margin-bottom: 20%;
				}
				.project_inner {
					display: block;
					position: relative;
					margin: 0 5%;
					border-radius: 5px;
					min-height: 280px;
					overflow: hidden;
					background: #bfcfda;

					//padding-bottom: 40px;

					@include respond(680px) {
						margin: 0 10%;
					}

					@include respond(_size(tiny)) {
						margin: 0;
					}

					&:hover {
						.project_excerpt {
							display: block;
							max-height: 120px;

							opacity: 1;
						}
					}
				}
				img {
					width: 100%;
					display: block;
				}
			}
		}
	}
	li.has-post-thumbnail {
		span.overlay {
			background: rgba(#333, 0.65);
		}

		& > div.project_inner {
			min-height: 0;
			padding-bottom: 0;
		}
	}
	.overlay {
		display: flex;
		position: absolute;
		justify-content: center;
		align-content: center;
		flex-direction: column;
		text-align: center;

		width: 100%;
		height: 100%;
		top: 0;
		left: 0;
		padding: 0 10%;

		color: white;

		& > span{
			//padding: 0 _size(gutter);
		}
		@include respond(1200px) {
			padding: 0 5%;
		}
		@include respond(_size(tablet)) {
			padding: 0 10%;
		}
	}
	.project_title {
		font-size: 2.6rem;
		font-family: _font(heading);
		max-height: 70px;
		overflow: hidden;
	}
	.project_content {
		display: none;
		max-height: 0;
	}
	.project_excerpt {
		display: block;
		max-height: 0;
		margin-top: 5%;

		overflow: hidden;
		opacity: 0;

		font-weight: 200;
		font-size: 2rem;

		transition: opacity _duration(short), max-height _duration(moderate);
	}
	.project_tag_label {
		display: none;
	}
	.project_tags {
		position: absolute;

		bottom: (_size(gutter)/2);
		width: 100%;
		left: 0;

		ul{
			@extend %nota-list;
		}

		a {
			padding: 3px 7px;
			background: rgba(255,255,255,0.7);
			border-radius: 3px;
			margin: 0 10px;
			font-size: 1.2rem;

			color: _palette(fg);
			text-transform: uppercase;
			text-decoration: none;
			pointer-events: none;
		}
	}
	h2 {
		font-family: _font(heading);
		font-size: 3.6rem;
		color: #54758e;
		text-align: center;
	}
}

.contact{
	background-attachment: scroll;
	background-color: _palette(btm_bg);
	background-image: url('../img/bottom-3200.svg');
	background-position: top center;
	background-repeat: repeat-x;
	background-size: 3200px 460px;
	padding-top: 460px;

	min-height: 500px;

	.email_text {
		color: rgba(white, 0.7);
		font-size: 2.4rem;
		line-height: 2em;

		@include respond(_size(tiny)) {
			font-size: 1.8rem;
			line-height: 1.5em;
		}
		h2 {
			color: rgba(white, 0.7);
			font-size: 3.2rem;
			font-family: _font(heading);

			@include respond(_size(tiny)) {
				font-size: 2.4rem;
				margin-bottom: (_size(gutter)/2);
			}
		}
	}
	.row {
		max-width: 1280px;
		margin: 0 auto;
	}
	.col_inner {
		margin: _size(gutter) auto;
		max-width: 75%;

		@include respond(_size(tiny)) {
			margin-bottom: 0;
		}
	}
}


div.wpforms-container {

	max-width: 640px;
	//padding: _size(gutter) (_size(gutter)/2) !important;
	margin: 0 auto !important;

	form.wpforms-form {

		input , select, textarea {

			height: auto !important;
			letter-spacing: 1em;
			border-radius: 0 !important;
			letter-spacing: 0.075em !important;
			padding: (_size(gutter)/3) (_size(gutter)/2) !important;
			border: 2px solid rgba(white, 0.7) !important;
			outline: 2px solid transparent;
			box-shadow: 0 0 0 0 transparent inset !important;

			color: white !important;
			font-weight: 500;

			background: rgba(#FFF, 0.15)!important;
			transition: box-shadow _duration(short), background _duration(long), outline-offset _duration(short), outline _duration(short);

			&:hover {
				outline-offset: 2px;
				outline: 2px solid rgba(white, 0.7);
			}
			&::-webkit-input-placeholder {
				color: rgba(white, 0.7);
				font-style: italic;
			}
			&:-webkit-autofill {
			    box-shadow: 0 0 0 99px #f6f4d0 inset !important;
			    -webkit-text-fill-color: _palette(btm_bg) !important;
			    text-fill-color: _palette(btm_bg) !important;
			    border-color: #f6f4d0 !important;
				outline-color: _palette(btm_bg) !important;

				&:focus {
					outline-offset: -4px;
				}
			}

			&:focus {
				background: rgba(#FFF, 0.4)!important;
				outline: 2px solid rgba(white, 0.7);
				outline-offset: -6px;
			}
		}
		textarea {
			min-height: 160px;
		}
		label.wpforms-error {
			display: block;
			color: white !important;
			margin: 10px 0;
		}
		button[type=submit]{
			background: rgba(#FFF, 0.7);
			color: _palette(btm_bg);
			outline: 2px solid transparent;
			outline-offset: 0;
			font-weight: bold;
			border: 0 !important;

			transition: background _duration(long),  outline-offset _duration(short), outline _duration(long);

			&:hover {
				background: white;
				outline-color: _palette(btm_bg);
				outline-offset: -4px;
			}
			&:active {
				outline-offset: 3px;
			}
		}
		.wpforms-field {
			overflow: visible !important;
		}
	}
}
div.wpforms-confirmation-container-full {
	padding: (_size(gutter)/2) (_size(gutter)*1) !important;
	background: rgba(#FFF, 0.3) !important;
	border: 0 transparent !important;
	outline: 2px solid rgba(#FFF, 0.7) !important;
	outline-offset: -4px;
	font-weight: bold;
	color: white;
}
